{
"version":3,
"file":"internal/js/images.js",
"lineCount":14,
"mappings":"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",
"sources":[" [synthetic:es6/util/arrayiterator] "," [synthetic:es6/util/makeiterator] "," [synthetic:es6/util/arrayfromiterable] "," [synthetic:es6/util/arrayfromiterator] ","src/js/images/make-io.js","node_modules/@lemuria/absolute-proxy/src/index.js","src/js/images/observer.js","src/js/images/contours.js","src/js/images/webp.js","src/js/images/io.js","src/js/images/index.js"],
"sourcesContent":["/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility method for creating an iterator for Arrays.\n */\n'require base';\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {function():!IIterableResult<T>}\n * @template T\n */\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  };\n};\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {!Iterator<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  return /** @type {!Iterator<T>} */ ({next: $jscomp.arrayIteratorImpl(array)});\n};\n\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/util/arrayiterator';\n\n/**\n * Creates an iterator for the given iterable.  This iterator should never\n * be exposed to user code.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = typeof Symbol != 'undefined' && Symbol.iterator &&\n      (/** @type {?} */ (iterable)[Symbol.iterator]);\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require es6/util/makeiterator';\n'require es6/util/arrayfromiterator';\n\n\n/**\n * Copies the values from an Iterable into an Array.\n * @param {string|!Array<T>|!Iterable<T>|!Arguments} iterable\n * @return {!Array<T>}\n * @template T\n */\n$jscomp.arrayFromIterable = function(iterable) {\n  if (iterable instanceof Array) {\n    return iterable;\n  } else {\n    return $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n  }\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require base';\n\n\n/**\n * Copies the values from an Iterator into an Array. The important difference\n * between this and $jscomp.arrayFromIterable is that if the iterator's\n * next() method has already been called one or more times, this method returns\n * only the values that haven't been yielded yet.\n * @param {!Iterator<T>} iterator\n * @return {!Array<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.arrayFromIterator = function(iterator) {\n  var i;\n  var arr = [];\n  while (!(i = iterator.next()).done) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n","/**\n * Creates an intersection observer.\n */\nconst makeIo = (callback, options = { rootMargin: '50px' }) => {\n  const io = new IntersectionObserver((entries) => {\n    entries.forEach(({ target, isIntersecting }) => {\n      if (isIntersecting) {\n        io.unobserve(target)\n        callback(target)\n      }\n    })\n  }, options)\n  return io\n}\n\n\nexport default makeIo","/**\n * Assigns Styles To Position Element Absolutely On Top Of The Target One.\n * @param {!HTMLElement} obj The target element to position absolutely.\n * @param {!HTMLElement} element The source element.\n */\nexport default function(obj, element) {\n  const rect = element.getBoundingClientRect()\n  const top = rect.top + window.scrollY\n  const left = rect.left + window.scrollX\n  const width = rect.width\n  const height = rect.height\n\n  const cs = getComputedStyle(element)\n  const pt = parseInt(cs.paddingTop, 10)\n  const pb = parseInt(cs.paddingBottom, 10)\n  const pl = parseInt(cs.paddingLeft, 10)\n  const pr = parseInt(cs.paddingRight, 10)\n  const bt = parseInt(cs.borderTopWidth, 10)\n  const bl = parseInt(cs.borderLeftWidth, 10)\n  const br = parseInt(cs.borderRightWidth, 10)\n  const bb = parseInt(cs.borderBottomWidth, 10)\n\n  obj.style.position = 'absolute'\n  obj.style.top = top + (pt + bt) + 'px'\n  obj.style.left = left + (pl + bl) + 'px'\n  obj.style.width = width - (pl + pr + bl + br) + 'px'\n  obj.style.height = height - (pt + pb + bt + bb) + 'px'\n}","// https://github.com/bertyhell/element-height-observer/blob/master/src/index.ts\n\n/**\n * Creates an iFrame and dispatches `element-resize` event on window when\n * the passed element changes size.\n * @param {!Element} element The element.\n */\nexport default function registerHeightObserver(element, options = {}) {\n  const { direction = 'vertical' } = options\n  const iframe = /** @type {!HTMLIFrameElement} */ (document.createElement('IFRAME'))\n  iframe.style.pointerEvents = 'none'\n  // iframe.style.opacity = '0'\n  iframe.style.position = 'absolute'\n  iframe.style.display = 'block'\n  iframe.style.overflow = 'auto'\n\n  if (direction == 'vertical') {\n    iframe.style.height = '100%'\n    iframe.style.width = '0'\n  } else if (direction == 'horizontal') {\n    iframe.style.height = '0'\n    iframe.style.width = '100%'\n  } else {\n    // both\n    iframe.style.height = '100%'\n    iframe.style.width = '100%'\n  }\n  iframe.style.top = '0'\n  iframe.style.bottom = '0'\n  iframe.style.left = '0'\n  iframe.style.border = '0'\n  iframe.style.backgroundColor = 'transparent'\n\n  // Debug styles for making the iframe visible in the test.html page\n  // iframe.style.border = '5px solid red'\n  // iframe.style.boxSizing = 'border-box'\n  // iframe.style.width = '20px'\n\n  iframe.title = 'element-height-observer-iframe'\n  iframe.onload = () => {\n    iframe.contentWindow.addEventListener('resize', () => {\n      window.dispatchEvent(new Event('element-resize', { element }))\n    })\n  }\n  element.appendChild(iframe)\n\n  if (element.style.position == 'static' || element.style.position == '') {\n    element.style.position = 'relative'\n  }\n}","import './externs'\nimport makeIo from './make-io'\nimport positionAbsolute from '@lemuria/absolute-proxy'\nimport registerHeightObserver from './observer'\n\nregisterHeightObserver(document.body)\n\n/**\n * When image-placeholder is scrolled into view.\n * @param {!HTMLElement} object\n */\nconst callback = (object) => {\n  if (!object) return\n  const potrace = object.getAttribute('data-potrace')\n  if (!potrace) return\n  const potraceNoAnimate = object.getAttribute('data-potrace-no-animate') !== null\n  const potraceNoInteract = (object.getAttribute('data-potrace-no-interact') !== null) || potraceNoAnimate\n\n  object.removeAttribute('data-potrace')\n  const oid = object.id.replace(/^s/, 'o')\n\n  const obj = /** @type {!HTMLElement} */ (document.createElement('object'))\n  obj.type = 'image/svg+xml'\n  obj.style.visibility = 'hidden'\n  obj.id = oid\n  obj.data = potrace\n\n  positionAbsolute(obj, object)\n  window.addEventListener('resize', () => {\n    positionAbsolute(obj, object['_picture'] || object)\n  })\n  window.addEventListener('element-resize', () => {\n    positionAbsolute(obj, object['_picture'] || object)\n  })\n\n  obj.onload = potraceNoAnimate ? () => {\n    obj.style.visibility = ''\n  } : () => {\n    const { contentDocument: doc } = obj\n    const svg = doc.querySelector('svg')\n    const use = svg.querySelector('use[data-mask]')\n    use.setAttribute('mask', use.getAttribute('data-mask'))\n    use.setAttribute('fill', 'none')\n\n    animatePaths(svg)\n    use.setAttribute('stroke', use.getAttribute('data-stroke'))\n\n    obj.style.visibility = ''\n\n    use.removeAttribute('data-stroke')\n    use.removeAttribute('data-mask')\n  }\n\n  let clearTransition = true\n  if (!potraceNoInteract) obj.onmouseover = () => {\n    // debugger\n    if (!obj['_finishedAppear']) return\n\n    obj.style.opacity = ''\n    animatePaths(obj.contentDocument.querySelector('svg'), {\n      clearTransition,\n    })\n    clearTransition = false\n  }\n  if (!potraceNoInteract) obj.onmouseleave = () => {\n    if (!obj['_finishedAppear']) return\n\n    animatePaths(obj.contentDocument.querySelector('svg'), {\n      reverse: true,\n    })\n    // obj.style.opacity = 0\n  }\n\n  document.body.appendChild(obj)\n}\n\n/**\n * @param {Element} svg\n * @param {Object} [opts]\n * @param {boolean} [opts.reverse]\n * @param {number} [opts.seconds]\n * @param {boolean} [opts.clearTransition]\n */\nconst animatePaths = (svg, opts = {}) => {\n  const {\n    reverse = false, seconds = 7, clearTransition = false,\n  } = opts\n\n  /** @type {Array<SVGPathElement>} */\n  const paths = [...svg.querySelectorAll('path')]\n\n  paths.forEach((path) => {\n    const length = path.getTotalLength()\n    // Clear any previous transition\n    if (clearTransition)\n      path.style.transition = path.style.webkitTransition = 'none'\n\n    const l = `${length}`\n    // Set up the starting positions\n    path.style['strokeDasharray'] = `${length} ${length}`\n    path.style['strokeDashoffset'] = reverse ? '0' : l\n\n    // Trigger a layout so styles are calculated & the browser\n    // picks up the starting position before animating\n    path.getBoundingClientRect()\n\n    // Define our transition\n    path.style.transition = path.style.webkitTransition =\n      `stroke-dashoffset ${seconds}s ease-in-out`\n\n    // Go!\n    path.style['strokeDashoffset'] = reverse ? l : '0'\n  })\n}\n\nexport default function SPLENDID_CONTOURS(className = 'ImageHolder', options = {\n  rootMargin: '100px',\n}) {\n  /** @type {Array<Element>} */\n  const objects = [...document.querySelectorAll(`img.${className}`)]\n  const io = makeIo(callback, options)\n  objects.forEach((object) => {\n    io.observe(object)\n  })\n}","import makeIo from './make-io'\n\nexport default function SPLENDID_CONTOURS() {\n  const holders = [...document.querySelectorAll('img.ImageHolder')]\n  const io = makeIo(callback)\n\n  holders.forEach((holder) => {\n    io.observe(holder)\n  })\n}\n\n/**\n * When ImageHolder comes into view.\n * @param {Element} target\n */\nconst callback = (target) => {\n  const noscript = /** @type {!HTMLElement} */ (target.nextElementSibling)\n  if (noscript.tagName != 'NOSCRIPT') {\n    return console.warn('sibling not a noscript')\n  }\n  const picture = document.createElement('picture')\n  target.parentElement.insertBefore(picture, target.nextSibling)\n  let st = ''\n  const html = noscript.innerText\n    .replace(/(<picture[^>]+?)style=\"([^\"]*?)\"/, (m, g, s) => {\n      st = s\n      return g\n    })\n    .replace('<picture ', `<picture style=\"${[st, 'display:none!important'].filter(Boolean).join(';')}\" `)\n\n  // picture._initialStyle = st\n  picture.outerHTML = html\n  noscript.parentElement.removeChild(noscript)\n}\n\n/**\n * @param {!Element} object\n */\nconst hideObject = (object, seconds) => {\n  object.style.animation = object.style.webkitAnimation = `contourFadeOut ${seconds}s ease-out`\n  setTimeout(() => {\n    object.style.setProperty('opacity', '0')\n    object.style.animation = object.style.webkitAnimation = ''\n    // object.parentElement.removeChild(object)\n    object['_finishedAppear'] = true\n  }, seconds * 1000)\n}\n\n/**\n * The callback for when webp is loaded.\n * @param {HTMLImageElement} img\n */\nwindow['webploaded'] = (img) => {\n  const picture = /** @type {HTMLPictureElement} */ (img.parentElement)\n  const oid = `o${picture.id}`\n  const o = document.getElementById(oid)\n  if (o) hideObject(o, 7)\n\n  const svg = picture.previousElementSibling\n  svg['_picture'] = picture.querySelector('img')\n  svg.parentElement.removeChild(svg)\n\n  picture.style.cssText = picture.style.cssText.replace(/;?\\s*display:\\s*none\\s*!important;?$/, '')\n  picture.style.animation = picture.style.webkitAnimation = 'fadeInFromNone 2.5s ease-out'\n}\n","import makeIo from './make-io'\n\n/**\n * Non-webp handling of images\n */\nexport default () => {\n  const imgTags = [\n    ...document.querySelectorAll('img[data-io]'),\n  ].filter(({ parentNode }) => {\n    return parentNode.tagName != 'PICTURE'\n  })\n  const images = [\n    ...document.querySelectorAll('picture[data-io]'),\n    ...imgTags,\n  ]\n  const io = makeIo(callback, { rootMargin: '76px' })\n  images.forEach((img) => {\n    img.removeAttribute('io')\n    io.observe(img)\n  })\n}\n\nconst supportsSrcSet = 'srcset' in document.createElement('img')\n\n/**\n * @param {Element} element\n */\nconst handleElement = (element) => {\n  const src = element.getAttribute('data-src')\n  const srcset = element.getAttribute('data-srcset')\n\n  element.removeAttribute('data-src')\n  element.removeAttribute('data-srcset')\n\n  if (element.src) { // hot-swap\n    const img = document.createElement('img')\n    assign(src, srcset, img)\n    img.onload = () => {\n      assign(src, srcset, element)\n    }\n  } else assign(src, srcset, element)\n}\n\nconst assign = (src, srcset, element) => {\n  if (src && (!supportsSrcSet || !srcset)) {\n    element.src = src\n  }\n  if (srcset && supportsSrcSet) {\n    element.srcset = srcset\n  }\n}\n\n/**\n * @param {Element} target\n */\nconst callback = (target) => {\n  switch (target.tagName) {\n  case 'PICTURE': {\n    const sources = [...target.querySelectorAll('source'), target.querySelector('img')]\n    sources.forEach(handleElement)\n    break\n  }\n  case 'IMG':\n    handleElement(target)\n  }\n}","import SPLENDID_CONTOURS from './contours'\nimport WEBP from './webp'\nimport IO from './io'\n\n// refresh placeholders with srcset\nwindow['SPLENDID_SVG_PLACEHOLDER'] = () => {\n  const svgs = [...document.querySelectorAll('.ImageHolder')]\n  svgs.forEach((svg) => {\n    const s = /width='(\\d+)'\\s+height='(\\d+)'/.exec(svg.src)\n    if (!s) return\n    const [,width, height] = s\n    const aspect = width / height\n    const noscript = svg.nextElementSibling\n    if (noscript.tagName != 'NOSCRIPT') return\n    let srcset = /<img[\\s\\S]*?\\ssrcset=\"([^\"]+)\"/.exec(noscript.textContent)\n    if (!srcset) return\n    [,srcset] = srcset\n    const widths = srcset.split(',').map((a) => {\n      let w = /\\s(\\d+)w$/.exec(a)\n      if (!w) return 0\n      ;[, w] = w\n      return w\n    })\n    const ss = widths.map((w) => {\n      const h = w / aspect\n      const sv = `<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'/>`\n      const bsv = btoa(sv)\n      const t = `data:image/svg+xml;base64,${bsv}`\n      const src = `${t} ${w}w`\n      return src\n    })\n    svg.srcset = ss.join(',')\n    // debugger\n  })\n}\n\nwindow['SPLENDID_SVG_PLACEHOLDER']()\n\nwindow['IO'] = IO\nIO()\n\nwindow['WEBP'] = WEBP\nWEBP()\n\nwindow['SPLENDID_CONTOURS'] = SPLENDID_CONTOURS\nSPLENDID_CONTOURS('ImageHolder', {\n  rootMargin: '150px',\n})"],
"names":["$jscomp.arrayIteratorImpl","makeIo","callback","options","rootMargin","io","IntersectionObserver","entries","forEach","target","isIntersecting","unobserve","obj","element","rect","getBoundingClientRect","top","window","scrollY","left","scrollX","width","height","cs","getComputedStyle","pt","parseInt","paddingTop","pb","paddingBottom","pl","paddingLeft","pr","paddingRight","bt","borderTopWidth","bl","borderLeftWidth","br","borderRightWidth","bb","borderBottomWidth","style","position","registerHeightObserver","direction","iframe","document","createElement","pointerEvents","display","overflow","bottom","border","backgroundColor","title","onload","iframe.onload","contentWindow","addEventListener","dispatchEvent","Event","appendChild","body","object","potrace","getAttribute","potraceNoAnimate","potraceNoInteract","removeAttribute","oid","id","replace","type","visibility","data","positionAbsolute","svg","doc","querySelector","use","setAttribute","animatePaths","clearTransition","onmouseover","obj.onmouseover","opacity","contentDocument","onmouseleave","obj.onmouseleave","reverse","opts","seconds","$jscomp.arrayFromIterable","querySelectorAll","paths","path","length","getTotalLength","transition","webkitTransition","l","SPLENDID_CONTOURS","className","objects","observe","holders","holder","noscript","nextElementSibling","tagName","console","warn","picture","parentElement","insertBefore","nextSibling","st","html","innerText","m","g","s","filter","Boolean","join","outerHTML","removeChild","hideObject","animation","webkitAnimation","setTimeout","setProperty","img","o","getElementById","previousElementSibling","cssText","imgTags","parentNode","images","supportsSrcSet","handleElement","src","srcset","assign","img.onload","sources","svgs","exec","$jscomp.makeIterator","aspect","textContent","ss","split","map","widths","a","w","btoa","bsv","IO","WEBP"]
}
